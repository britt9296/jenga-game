<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>2D Jenga with Matter.js</title>
  <style>
    body { margin: 0; overflow: hidden; background: #f5f5f5; }
    canvas { display: block; }
  </style>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/matter-js@0.19.0/build/matter.min.js"></script>
  <script>
    const { Engine, Render, Runner, World, Bodies, Mouse, MouseConstraint, Events } = Matter;

    const engine = Engine.create();
    const world = engine.world;

    const width = window.innerWidth;
    const height = window.innerHeight;

    const render = Render.create({
      element: document.body,
      engine: engine,
      options: {
        width,
        height,
        wireframes: false,
        background: '#fdfdfd'
      }
    });

    Render.run(render);
    Runner.run(Runner.create(), engine);

    // Ground
    const ground = Bodies.rectangle(width / 2, height - 20, width, 40, { isStatic: true });
    World.add(world, ground);

    // Jenga Tower
    const blockWidth = 100;
    const blockHeight = 20;
    const rows = 18;
    const startX = width / 2;
    const startY = height - 40;

    for (let i = 0; i < rows; i++) {
      const y = startY - i * blockHeight;
      const blocks = [];
      for (let j = 0; j < 3; j++) {
        const offset = (j - 1) * blockWidth;
        const x = startX + offset;
        const angle = i % 2 === 0 ? 0 : Math.PI / 2;
        blocks.push(
          Bodies.rectangle(x, y, blockWidth, blockHeight, {
            angle,
            chamfer: { radius: 2 },
            render: { fillStyle: '#c49a6c' }
          })
        );
      }
      World.add(world, blocks);
    }

    // Mouse Control
    const mouse = Mouse.create(render.canvas);
    const mouseConstraint = MouseConstraint.create(engine, {
      mouse,
      constraint: {
        stiffness: 0.2,
        render: { visible: false }
      }
    });

    World.add(world, mouseConstraint);
    render.mouse = mouse;

    // Resize handling
    window.addEventListener('resize', () => {
      render.canvas.width = window.innerWidth;
      render.canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>